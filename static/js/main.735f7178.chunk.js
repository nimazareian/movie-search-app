(this["webpackJsonpmovie-suggestion-app"]=this["webpackJsonpmovie-suggestion-app"]||[]).push([[0],{87:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(0),o=n.n(c),i=n(13),r=n.n(i),s=n(19),l=(n(87),n(40)),j=n(10),b=n(16),u=Object(c.createContext)(),d=function(e){var t=Object(c.useState)((function(){for(var e=[],t=Object.keys(localStorage),n=t.length;n--;)e.push(JSON.parse(localStorage.getItem(t[n])));return console.log("imported nominees from storage",e),e})),n=Object(b.a)(t,2),o=n[0],i=n[1];return Object(a.jsx)(u.Provider,{value:[o,i],children:e.children})},h=n(132),m=n(21),p=n(30),O=n(133),x=n(134),g=n(135),f=n(136),v=n(148),I=n(137),w=n(149),N=n(138),y=n(139),k=n(70),S=n.n(k),T=n(50),C=n.n(T);n(88).config();var D=Object(h.a)((function(e){return{title:Object(s.a)({textDecoration:"none",color:"white",display:"none"},e.breakpoints.up("sm"),{display:"block"}),searchDiv:{marginLeft:"auto"},search:Object(s.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(m.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(m.b)(e.palette.common.white,.25)},right:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(s.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),nominationIcon:{}}}));var R,L=function(){var e=D(),t=Object(c.useContext)(u),n=Object(b.a)(t,2),o=n[0],i=(n[1],Object(p.a)()),r=(Object(O.a)(i.breakpoints.down("sm")),Object(c.useState)("")),s=Object(b.a)(r,2),d=s[0],h=s[1],m=Object(j.g)();return Object(a.jsx)(x.a,{position:"static",children:Object(a.jsxs)(g.a,{children:[Object(a.jsx)(l.b,{to:"".concat(ee),className:e.title,children:Object(a.jsx)(f.a,{variant:"h6",noWrap:!0,children:"Movie Nomination"})}),Object(a.jsx)("div",{className:e.searchDiv,children:Object(a.jsxs)("div",{className:e.search,children:[Object(a.jsx)("div",{className:e.searchIcon,children:Object(a.jsx)(S.a,{})}),Object(a.jsx)(v.a,{value:d,onChange:function(e){h(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&m.push("".concat(ee,"/search/").concat(d))},placeholder:"Search\u2026",autoFocus:!0,classes:{root:e.inputRoot,input:e.inputInput},inputProps:{"aria-label":"search"}})]})}),Object(a.jsx)(l.b,{to:"".concat(ee),children:Object(a.jsx)(I.a,{"aria-label":"Nominations",children:Object(a.jsx)(w.a,{TransitionComponent:N.a,title:"".concat(o.length," Movies Nominated"),children:Object(a.jsx)(y.a,{color:"secondary",badgeContent:o.length,children:Object(a.jsx)(C.a,{className:e.nominationIcon})})})})})]})})},E=n(74),B=n(140),P=n(141),z=n(146),J=Object(h.a)({card:(R={margin:"auto",borderRadius:"1rem",boxShadow:"none",position:"relative",width:270,height:360,transition:"transform 0.3s"},Object(s.a)(R,"boxShadow","0 4px 8px rgba(0,0,0,0.35);"),Object(s.a)(R,"&:hover",{transform:"translate(0, -5px)"}),Object(s.a)(R,"&:after",{content:'""',display:"block",position:"absolute",width:"100%",height:"64%",bottom:0,zIndex:1,background:"linear-gradient(to top, #000, rgba(0,0,0,0))"}),R),content:{position:"absolute",zIndex:2,left:0,bottom:0,width:222},movieTitle:{fontFamily:"Spartan",fontWeight:700,color:"white",marginTop:0,marginBottom:8},movieYear:{color:"white",fontWeight:400,marginTop:0,marginBottom:0},cardImg:{verticalAlign:"text-top",width:270,height:360},nominateButton:{margin:8,position:"absolute",zIndex:2,color:"white",top:0,right:0}});var M=function(e){var t=J(),n=Object(c.useContext)(u),o=Object(b.a)(n,2),i=o[0],r=o[1],s=e.movie,l=Object(c.useState)((function(){return i.some((function(e){return e.imdbID===s.imdbID}))})),j=Object(b.a)(l,2),d=j[0],h=j[1];return Object(a.jsx)("div",{children:Object(a.jsxs)(B.a,{className:t.card,children:["N/A"!==s.Poster&&Object(a.jsx)(P.a,{className:t.cardImg,component:"img",alt:s.Title,image:s.Poster,title:s.Title}),Object(a.jsx)(I.a,{className:t.nominateButton,variant:"outlined",value:"Nominate",selected:d,onClick:function(){localStorage.length>=5&&!d?alert("You have nominated 5 movies!"):(d?(r((function(e){return e.filter((function(e){return e.imdbID!==s.imdbID}))})),localStorage.removeItem(s.imdbID)):(-1===i.findIndex((function(e){return e.imdbID===s.imdbID}))&&r((function(e){return[].concat(Object(E.a)(e),[s])})),localStorage.setItem(s.imdbID,JSON.stringify(s))),h(!d))},children:Object(a.jsx)(w.a,{TransitionComponent:N.a,title:"Nominate",enterDelay:500,children:Object(a.jsx)(C.a,{fontSize:"large",color:d?"secondary":"primary"})})}),Object(a.jsxs)(z.a,{py:3,px:3,className:t.content,children:[Object(a.jsx)("h2",{className:t.movieTitle,children:s.Title}),Object(a.jsx)("h3",{className:t.movieYear,children:s.Year})]})]})})},W=n(142),Y=Object(h.a)((function(e){return{gridItem:{width:"350px"}}}));var A=function(e){var t=Y();return Object(a.jsx)(W.a,{container:!0,justify:"center",spacing:3,direction:"row",alignItems:"flex-start",children:e.movieList.map((function(e){return Object(a.jsx)(W.a,{className:t.gridItem,item:!0,lg:3,children:Object(a.jsx)(M,{movie:e})},e.imdbID)}))})},F=Object(h.a)((function(e){return{pageTitle:{marginLeft:15}}}));var K=function(){var e=F(),t=Object(c.useContext)(u),n=Object(b.a)(t,2),o=n[0];return n[1],Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:e.pageTitle,children:"Nominations:"}),Object(a.jsx)(A,{movieList:o})]})},q=n(56),G=n.n(q),H=n(72),Q=n(143),U=n(147),V=Object(h.a)((function(e){return{searchResult:Object(s.a)({},e.breakpoints.up("sm"),{display:"block"}),pageSelector:{margin:"35px 0",display:"flex",justifyContent:"center"},searchInfoText:{marginLeft:15}}}));var X=function(e){var t=V(),n=e.match.params.id,o=Object(c.useState)({}),i=Object(b.a)(o,2),r=i[0],s=i[1],l=Object(c.useState)(1),j=Object(b.a)(l,2),u=j[0],d=j[1],h=Object(c.useState)(4),m=Object(b.a)(h,2),p=m[0],O=m[1];return Object(c.useEffect)((function(){(function(){var e=Object(H.a)(G.a.mark((function e(){var t,a;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.omdbapi.com/?apikey=".concat("3405c1cf","&s=").concat(n,"&page=").concat(u));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,s(a),O(Math.ceil(a.totalResults/10));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n,u]),Object(c.useEffect)((function(){d(1)}),[n]),Object(a.jsx)("div",{className:t.searchResult,children:"True"===r.Response?Object(a.jsxs)("div",{children:[Object(a.jsxs)("h2",{className:t.searchInfoText,children:[r.totalResults," results found for ",n]}),Object(a.jsx)(A,{movieList:r.Search}),p>1&&Object(a.jsx)(U.a,{count:p,page:u,onChange:function(e,t){d(t),window.scrollTo(0,0)},className:t.pageSelector,color:"secondary"})]}):"False"===r.Response?Object(a.jsxs)("h2",{className:t.searchInfoText,children:["Error: ",r.Error]}):Object(a.jsx)(Q.a,{color:"secondary"})})},Z=n(73),$=n(144),_=n(145),ee="/movie-search-app",te=Object(h.a)((function(e){return{page:Object(s.a)({maxWidth:1500,margin:"0 auto"},e.breakpoints.up("sm"),{})}}));var ne=function(){var e=te(),t=Object(O.a)("(prefers-color-scheme: dark)"),n=o.a.useMemo((function(){return Object(Z.a)({palette:{type:t?"dark":"light",primary:{light:"#00818a",main:"#8f1eff",dark:"#8f1eff"}}})}),[t]);return Object(a.jsxs)($.a,{theme:n,children:[Object(a.jsx)(_.a,{}),Object(a.jsx)(d,{children:Object(a.jsx)(l.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(L,{}),Object(a.jsx)(j.d,{children:Object(a.jsxs)("div",{className:e.page,children:[Object(a.jsx)(j.b,{path:"".concat(ee),exact:!0,component:K}),Object(a.jsx)(j.b,{path:"".concat(ee,"/search/:id"),component:X}),Object(a.jsx)(j.b,{path:"*",children:Object(a.jsx)(j.a,{to:"".concat(ee)})})]})})]})})})]})};r.a.render(Object(a.jsx)(ne,{}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.735f7178.chunk.js.map